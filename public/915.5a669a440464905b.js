"use strict";(self.webpackChunknewsfront=self.webpackChunknewsfront||[]).push([[915],{915:($,h,d)=>{d.r(h),d.d(h,{AdminpanelModule:()=>G});var p=d(6814),c=d(4670),e=d(4946),x=d(9246),m=d(5219);function y(o,i){1&o&&e._uU(0,"Perform Actions")}function v(o,i){1&o&&(e.TgZ(0,"div",7)(1,"li",8),e._uU(2," Category "),e.qZA(),e.TgZ(3,"li",9),e._uU(4," News "),e.qZA(),e.TgZ(5,"li",10),e._uU(6," Slider News "),e.qZA(),e.TgZ(7,"li",11),e._uU(8," Highlight News "),e.qZA()())}let Z=(()=>{class o{constructor(){this.topbar=!1,this.sidebarVisible=!1,this.topbar=!1}ngOnInit(){this.topbar=!1}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sidepanel"]],decls:8,vars:1,consts:[[1,"sidebar"],["id","sidebar","role","region",3,"visible","visibleChange","onHide"],["pTemplate","header","style","font-weight: bold;"],["pTemplate","content"],["icon","pi pi-arrow-right",1,"nav-btn",2,"z-index","10",3,"click"],[1,"pi","pi-bars",2,"font-size","2rem"],[2,"font-size","x-large","margin-left","0.6rem"],[1,"side-list"],["routerLink","/dashboard/category"],["routerLink","/dashboard/news"],["routerLink","/dashboard/newsslider"],["routerLink","/dashboard/highnews"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p-sidebar",1),e.NdJ("visibleChange",function(s){return n.sidebarVisible=s})("onHide",function(){return n.sidebarVisible=!1}),e.YNc(2,y,1,0,"ng-template",2),e.YNc(3,v,9,0,"ng-template",3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return n.sidebarVisible=!0}),e._UZ(5,"i",5),e.TgZ(6,"strong",6),e._uU(7," Settings"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("visible",n.sidebarVisible))},dependencies:[c.rH,x.Y,m.jx],styles:[".sidebar[_ngcontent-%COMP%]{position:relative;top:-3.3rem;left:1rem;width:max-content}.side-list[_ngcontent-%COMP%]{display:block;margin-top:1rem;text-align:center}.side-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:.5rem;background-color:#000;margin-bottom:.3rem;color:#fff;text-align:center justify;cursor:pointer;border-radius:4px}.nav-btn[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fffaf0;padding:5px 10px;border-radius:4px;border:none}@media screen and (orientation: portrait){.nav-btn[_ngcontent-%COMP%]{width:3rem;overflow-x:hidden}}"]}),o})(),T=(()=>{class o{constructor(){this.topbar=!1,this.shouldDisplayNavbar=!1,this.topbar=!1}ngOnInit(){this.topbar=!1}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:8,vars:0,consts:[[1,"dashboard"],[2,"width","100%","text-align","center","position","absolute","z-index","0"],[2,"margin-bottom","2rem"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Dashboard - Perform All Actions"),e.qZA()(),e.TgZ(4,"div"),e._UZ(5,"app-sidepanel"),e.qZA(),e.TgZ(6,"div"),e._UZ(7,"router-outlet"),e.qZA()())},dependencies:[c.lC,Z],styles:[".dashboard[_ngcontent-%COMP%]{background-color:#f7f7f7;height:min-content;min-height:100vh}"]}),o})();var g=d(6548),f=d(707),u=d(3904);const N=function(o){return["/dashboard/editnews/",o]};function F(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"br")(9,"img",8),e.TgZ(10,"div",9),e._UZ(11,"p-button",10),e.TgZ(12,"p-button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteNewsSlider(s._id))}),e.qZA()()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.hij("News Title: ",t.sliderHead,""),e.xp6(2),e.hij("News Desc: ",t.sliderTitle,""),e.xp6(2),e.hij("Category: ",null==t.category?null:t.category.name,""),e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(5,N,t.id))}}let A=(()=>{class o{constructor(t,n){this.adminApiService=t,this.confirmationService=n}ngOnInit(){this._getSliders()}_getSliders(){this.adminApiService.getNewsSlider().subscribe(t=>{this.news=t,console.log(t)})}deleteNewsSlider(t){this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.adminApiService.deleteNewsSlider(t).subscribe(n=>{this._getSliders()})},reject:n=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(m.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-slidernews"]],decls:9,vars:1,consts:[[2,"display","flex","justify-content","center","position","relative","top","2rem","text-transform","uppercase","color","firebrick"],[1,"news-head"],["routerLink","/dashboard/onlyslider"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"slider-news"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],[1,"news-content"],["alt","",3,"src"],[1,"button-container"],["label","Edit","styleClass","p-button-warning",3,"routerLink"],["label","Delete","styleClass","p-button-danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2"),e._uU(3,"Only for Slider news"),e.qZA(),e.TgZ(4,"button",2),e._uU(5,"Add News"),e.qZA()()(),e._UZ(6,"p-confirmDialog",3),e.TgZ(7,"div",4),e.YNc(8,F,13,7,"div",5),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngForOf",n.news))},dependencies:[p.sg,c.rH,f.zx,u.Q],styles:[".slider-news[_ngcontent-%COMP%]{margin-top:4rem}.news-head[_ngcontent-%COMP%]{display:flex;align-items:center}.news-head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:max-content;width:max-content;margin-left:.6rem;background-color:#00f;border-radius:5px;border:none;color:#fff;padding:5px 12px;font-size:larger}.news-item[_ngcontent-%COMP%]{width:25%;display:inline-block;padding:10px;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:10rem}@media (max-width: 768px){.news-item[_ngcontent-%COMP%]{width:50%}}.news-content[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;box-shadow:0 0 5px #0000001a}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin-top:10px}@media screen and (orientation: portrait){.news-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.news-head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0rem}.news-item[_ngcontent-%COMP%]{width:50%;padding:0}.button-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-left:-1.5rem}.button-container[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{width:max-content;padding:0;margin-left:.5rem}}"]}),o})();var r=d(95),_=d(3423);function S(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Name is required"),e.qZA())}function O(o,i){if(1&o&&(e.TgZ(0,"div",1),e._UZ(1,"img",17),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageData,e.LSH)}}function U(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"form",6)(2,"div",7),e._UZ(3,"p"),e._uU(4," Select Category "),e._UZ(5,"p-dropdown",8),e.YNc(6,S,2,0,"p",9),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"span"),e._uU(9,"News Heading:"),e.qZA(),e._UZ(10,"input",10),e.TgZ(11,"span"),e._uU(12,"News Description:"),e.qZA(),e._UZ(13,"input",11),e._uU(14," Choose Color: "),e._UZ(15,"input",12),e._uU(16," or "),e._UZ(17,"input",13),e.TgZ(18,"input",14),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelect(a))}),e.qZA(),e.YNc(19,O,2,1,"div",15),e.TgZ(20,"div",1)(21,"button",16),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmitForm())}),e._uU(22),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("options",t.categories)("filter",!0)("showClear",!0),e.xp6(1),e.Q6J("ngIf",t.eForm.category.invalid&&t.submitted),e.xp6(13),e.Q6J("ngIf",t.imageData),e.xp6(3),e.Oqu(t.editmode?"Update":"Post")}}function M(o,i){1&o&&(e.TgZ(0,"div",18)(1,"p"),e._uU(2,"Please Post Categories First!"),e.qZA()())}let b=(()=>{class o{constructor(t,n,a,s){this.apiService=t,this.formBuilder=n,this.route=a,this.router=s,this.submitted=!1,this.categories=[],this.editmode=!1}ngOnInit(){this._initForm(),this._getCategories(),this._checkEditMode()}onFileSelect(t){const n=t.target.files[0];if(this.form.patchValue({image:n}),n&&["image/png","image/jpeg","image/jpg"].includes(n.type)){const s=new FileReader;s.onload=()=>{this.imageData=s.result},s.readAsDataURL(n)}}_initForm(){this.form=this.formBuilder.group({category:["",r.kI.required],color:["",r.kI.required],sliderTitle:["",r.kI.required],sliderHead:["",r.kI.required],image:["",r.kI.required]})}onPost(){const t=new FormData;Object.keys(this.eForm).map(n=>{t.append(n,this.eForm[n].value)}),this.addStudent(t)}addStudent(t){this.apiService.postNewsSlider(t).subscribe(n=>{console.log(n),this.form.reset(),this.imageData=null,this.submitted=!this.submitted,this.router.navigateByUrl("/dashboard/newsslider")})}_getCategories(){this.apiService.getCategories().subscribe(t=>{this.categories=t,console.log(t)})}_checkEditMode(){this.route.params.subscribe(t=>{t.id&&(this.editmode=!0,this.currentProductId=t.id,this.apiService.getNewsSliderID(t.id).subscribe(n=>{this.eForm.category?.setValue(n?.category?.id),this.eForm.color?.setValue(n?.color),this.eForm.sliderTitle.setValue(n.sliderTitle),this.eForm.sliderHead.setValue(n.sliderHead),this.imageData=n.image,this.eForm.image.setValidators([]),this.eForm.image.updateValueAndValidity(),console.log(n.category.id)}))})}_updatePost(t){this.apiService.updateNewsSlider(t,this.currentProductId).subscribe(n=>{console.log(n),this.router.navigateByUrl("/dashboard/newsslider")})}onSubmitForm(){if(this.submitted=!0,this.form.invalid)return;const t=new FormData;Object.keys(this.eForm).map(n=>{t.append(n,this.eForm[n].value)}),this.editmode?this._updatePost(t):this.addStudent(t)}get eForm(){return this.form.controls}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(r.qu),e.Y36(c.gz),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editor"]],decls:7,vars:2,consts:[[1,"upload"],[2,"text-align","center"],["for",""],["class","form",4,"ngIf"],["style","color:red; margin-top: 5rem; text-align: center; font-weight: bold; font-size: xx-large;",4,"ngIf"],[1,"form"],["autocomplete","off",3,"formGroup"],[2,"margin-right","0rem"],["formControlName","category","optionLabel","name","optionValue","id","filterBy","name","placeholder","Select a Course",3,"options","filter","showClear"],[4,"ngIf"],["type","text","formControlName","sliderTitle","name","sliderTitle","placeholder","sliderTitle"],["type","text","formControlName","sliderHead","name","sliderHead","placeholder","sliderHead"],["type","color","formControlName","color","name","color","placeholder","color"],["type","text","formControlName","color","name","color","placeholder","color"],["type","file","name","image","accept",".jpg, .jpeg, .png","required","",3,"change"],["style","text-align: center;",4,"ngIf"],[2,"width","100%",3,"click"],["alt","",1,"imgLd",3,"src"],[2,"color","red","margin-top","5rem","text-align","center","font-weight","bold","font-size","xx-large"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Upload document by Filling the form below for Slidernews"),e.qZA()(),e._UZ(4,"br"),e.YNc(5,U,23,7,"div",3),e.qZA(),e.YNc(6,M,3,0,"div",4)),2&t&&(e.xp6(5),e.Q6J("ngIf",!n.submitted),e.xp6(1),e.Q6J("ngIf",!n.categories))},dependencies:[p.O5,_.Lt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".upload[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:2rem}img[_ngcontent-%COMP%]{width:200px;height:100px}.form[_ngcontent-%COMP%]{width:100%;display:grid;justify-items:center}input[_ngcontent-%COMP%]{display:grid;width:15rem;padding:10px;outline:none;border:2px black solid;border-radius:4px;margin:0 1rem 1rem}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:green;border:none;border-radius:5px;color:#fff;font-size:larger;padding:10px 0}"]}),o})();var P=d(6874),w=d(9862);function q(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e.TgZ(3,"div",12)(4,"button",13),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editCategory(s._id))}),e._uU(5,"Edit"),e.qZA(),e.TgZ(6,"button",14),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteCategory(s._id))}),e._uU(7,"Delete"),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(2),e.Oqu(t.name)}}let k=(()=>{class o{constructor(t,n,a,s,l){this.apiService=t,this.formBuilder=n,this.route=a,this.router=s,this.http=l,this.edit=!1,this.baseurl=P.F}ngOnInit(){this._getCats(),this.categoryForm=this.formBuilder.group({name:["",r.kI.required],color:[""]})}editCategory(t){this.categoryId=t,this.http.get(`${this.baseurl}/category/${this.categoryId}`).subscribe(n=>{this.categoryForm.setValue({name:n.name,color:n.color}),this.edit=!0})}postCat(){console.log("add pressed"),this.apiService.postCategories(this.categoryForm.value).subscribe(t=>{console.log(t),this.categoryForm.reset(),this._getCats()})}onSubmit(){this.categoryForm.invalid||(this.edit?this.http.put(`${this.baseurl}/category/${this.categoryId}`,this.categoryForm.value).subscribe(()=>{this._getCats(),this.router.navigateByUrl("/dashboard/category",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/category"]),this.categoryForm.reset(),location.reload()})}):this.postCat())}_getCats(){this.apiService.getCategories().subscribe(t=>{this.cats=t})}deleteCategory(t){this.apiService.deleteCategory(t).subscribe(n=>{this._getCats()})}refresh(){this.router.navigateByUrl("/dashboard/category",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/category"]),this.categoryForm.reset()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(r.qu),e.Y36(c.gz),e.Y36(c.F0),e.Y36(w.eN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-category"]],decls:16,vars:2,consts:[[1,"cat-main"],[2,"padding","10px 30px","background-color","white"],[1,"category-edit",2,"margin-bottom","1rem"],[3,"formGroup","ngSubmit"],["id","thh",1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["type","color","formControlName","color",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","category",4,"ngFor","ngForOf"],[1,"category"],[1,"category-name"],[1,"category-buttons"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"All Categories listed below"),e.qZA(),e.TgZ(4,"div",2)(5,"h3"),e._uU(6,"ADD / Edit Category"),e.qZA(),e.TgZ(7,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",4)(9,"label",5),e._uU(10,"Category Name: "),e.qZA(),e._UZ(11,"input",6)(12,"input",7),e.TgZ(13,"button",8),e._uU(14,"Save"),e.qZA()()()(),e.YNc(15,q,8,1,"div",9),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("formGroup",n.categoryForm),e.xp6(8),e.Q6J("ngForOf",n.cats))},dependencies:[p.sg,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".cat-main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-family:Arial,sans-serif;margin-top:4rem}div[_ngcontent-%COMP%]{box-sizing:border-box}h3[_ngcontent-%COMP%]{margin-bottom:20px;font-size:24px;text-align:center}.category[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;box-shadow:0 2px 4px #0000001a;border-radius:8px;margin-bottom:15px;padding:10px 15px}.category-name[_ngcontent-%COMP%]{flex:1;font-weight:700}.category-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.edit-button[_ngcontent-%COMP%]{background-color:green}.delete-button[_ngcontent-%COMP%]{background-color:red}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%]{color:#fff;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.edit-button[_ngcontent-%COMP%]:hover, .delete-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.form-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ff8c00;border:none;border-radius:5px;font-size:large}.form-group[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]}),o})();const H=function(o){return["/dashboard/news/",o]};function J(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"br")(9,"img",8),e.TgZ(10,"div",9),e._UZ(11,"p-button",10),e.TgZ(12,"p-button",11),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteCategory(s._id))}),e.qZA()()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.hij("News Title: ",t.newshead,""),e.xp6(2),e.hij("News Desc: ",t.newsdesc,""),e.xp6(2),e.hij("Category: ",null==t.category?null:t.category.name,""),e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(5,H,t.id))}}let I=(()=>{class o{constructor(t,n){this.adminApiService=t,this.confirmationService=n}ngOnInit(){this._getNews()}_getNews(){this.adminApiService.getNews().subscribe(t=>{this.news=t,console.log(t)})}deleteCategory(t){this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.adminApiService.deleteNews(t).subscribe(n=>{this._getNews()})},reject:n=>{}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(m.YP))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-news"]],decls:9,vars:1,consts:[[2,"display","flex","justify-content","center","position","relative","top","2rem","text-transform","uppercase","color","firebrick"],["header","Confirmation","icon","pi pi-exclamation-triangle"],[1,"news-head"],["routerLink","/dashboard/onlynews"],[1,"slider-news"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],[1,"news-content"],["alt","",3,"src"],[1,"button-container"],["label","Edit","styleClass","p-button-warning",3,"routerLink"],["label","Delete","styleClass","p-button-danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"p-confirmDialog",1),e.TgZ(2,"div",2)(3,"h2"),e._uU(4,"Only for News"),e.qZA(),e.TgZ(5,"button",3),e._uU(6,"Add News"),e.qZA()()(),e.TgZ(7,"div",4),e.YNc(8,J,13,7,"div",5),e.qZA()),2&t&&(e.xp6(8),e.Q6J("ngForOf",n.news))},dependencies:[p.sg,c.rH,f.zx,u.Q],styles:[".slider-news[_ngcontent-%COMP%]{margin-top:4rem}.news-item[_ngcontent-%COMP%]{width:25%;display:inline-block;padding:10px;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:10rem}.news-head[_ngcontent-%COMP%]{display:flex;align-items:center}.news-head[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:max-content;width:max-content;margin-left:.6rem;background-color:#00f;border-radius:5px;border:none;color:#fff;padding:5px 12px;font-size:larger}@media (max-width: 768px){.news-item[_ngcontent-%COMP%]{width:50%}}.news-content[_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;box-shadow:0 0 5px #0000001a}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;margin-top:10px}"]}),o})();function D(o,i){1&o&&(e.TgZ(0,"p"),e._uU(1,"Name is required"),e.qZA())}function Y(o,i){if(1&o&&(e.TgZ(0,"div",16),e._UZ(1,"img",18),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageData,e.LSH)}}function j(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",5)(1,"form",6)(2,"div",7),e._UZ(3,"p"),e._uU(4," Select Category "),e._UZ(5,"p-dropdown",8),e.YNc(6,D,2,0,"p",9),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"span"),e._uU(9,"News Heading:"),e.qZA(),e._UZ(10,"input",10),e.TgZ(11,"span"),e._uU(12,"News Desc:"),e.qZA(),e._UZ(13,"input",11),e.TgZ(14,"span"),e._uU(15,"News Bg Color:"),e.qZA(),e._UZ(16,"input",12)(17,"input",13),e.TgZ(18,"input",14),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onFileSelect(a))}),e.qZA(),e.YNc(19,Y,2,1,"div",15),e.TgZ(20,"div",16)(21,"button",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSubmitForm())}),e._uU(22),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("options",t.categories)("filter",!0)("showClear",!0),e.xp6(1),e.Q6J("ngIf",t.eForm.category.invalid&&t.submitted),e.xp6(13),e.Q6J("ngIf",t.imageData),e.xp6(3),e.Oqu(t.editmode?"Update":"Post")}}function L(o,i){1&o&&(e.TgZ(0,"div",19)(1,"p"),e._uU(2,"Please Post Courses First!"),e.qZA()())}let C=(()=>{class o{constructor(t,n,a,s){this.apiService=t,this.formBuilder=n,this.route=a,this.router=s,this.submitted=!1,this.categories=[],this.editmode=!1}ngOnInit(){this._initForm(),this._getCategories(),this._checkEditMode()}onFileSelect(t){const n=t.target.files[0];if(this.form.patchValue({image:n}),n&&["image/png","image/jpeg","image/jpg"].includes(n.type)){const s=new FileReader;s.onload=()=>{this.imageData=s.result},s.readAsDataURL(n)}}_initForm(){this.form=this.formBuilder.group({category:["",r.kI.required],color:["",r.kI.required],newshead:["",r.kI.required],newsdesc:["",r.kI.required],image:["",r.kI.required]})}onPost(){const t=new FormData;Object.keys(this.eForm).map(n=>{t.append(n,this.eForm[n].value)}),this.addNews(t)}addNews(t){this.apiService.postNews(t).subscribe(n=>{console.log(n),this.form.reset(),this.imageData=null,this.submitted=!this.submitted})}_getCategories(){this.apiService.getCategories().subscribe(t=>{this.categories=t,console.log(t)})}_checkEditMode(){this.route.params.subscribe(t=>{t.id&&(this.editmode=!0,this.currentProductId=t.id,this.apiService.getNewsID(t.id).subscribe(n=>{this.eForm.category?.setValue(n?.category?.id),this.eForm.color.setValue(n.color),this.eForm.newsdesc.setValue(n.newsdesc),this.eForm.newshead.setValue(n.newshead),this.imageData=n.image,this.eForm.image.setValidators([]),this.eForm.image.updateValueAndValidity(),console.log(n.category.id)}))})}_updatePost(t){this.apiService.updateNews(t,this.currentProductId).subscribe(n=>{console.log(n),this.router.navigateByUrl("/dashboard/news")})}onSubmitForm(){if(this.submitted=!0,this.form.invalid)return;const t=new FormData;Object.keys(this.eForm).map(n=>{t.append(n,this.eForm[n].value)}),this.editmode?this._updatePost(t):this.addNews(t)}get eForm(){return this.form.controls}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(r.qu),e.Y36(c.gz),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-newseditor"]],decls:7,vars:2,consts:[[1,"upload"],[2,"width","100%","text-align","center"],["for",""],["class","form",4,"ngIf"],["style","color:red; margin-top: 5rem; text-align: center; font-weight: bold; font-size: xx-large;",4,"ngIf"],[1,"form"],["autocomplete","off",3,"formGroup"],[2,"margin-right","0rem"],["formControlName","category","optionLabel","name","optionValue","id","filterBy","name","placeholder","Select a Category",3,"options","filter","showClear"],[4,"ngIf"],["type","text","formControlName","newshead","name","newshead","placeholder","newshead","required",""],["type","text","formControlName","newsdesc","name","newsdesc","placeholder","newsdesc","required",""],["type","color","formControlName","color","name","color","placeholder","color"],["type","text","formControlName","color","name","color","placeholder","color"],["type","file","name","image","accept",".jpg, .jpeg, .png","required","",3,"change"],["style","text-align: center;",4,"ngIf"],[2,"text-align","center"],[2,"width","100%",3,"click"],["alt","",1,"imgLd",3,"src"],[2,"color","red","margin-top","5rem","text-align","center","font-weight","bold","font-size","xx-large"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Upload News by Filling the form below"),e.qZA()(),e._UZ(4,"br"),e.YNc(5,j,23,7,"div",3),e.qZA(),e.YNc(6,L,3,0,"div",4)),2&t&&(e.xp6(5),e.Q6J("ngIf",!n.submitted),e.xp6(1),e.Q6J("ngIf",!n.categories))},dependencies:[p.O5,_.Lt,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".upload[_ngcontent-%COMP%]{margin-top:4rem;margin-bottom:2rem}img[_ngcontent-%COMP%]{width:200px;height:100px}.form[_ngcontent-%COMP%]{width:100%;display:grid;justify-items:center}input[_ngcontent-%COMP%]{display:grid;width:15rem;padding:10px;outline:none;border:2px black solid;border-radius:4px;margin:0 1rem 1rem}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:green;border:none;border-radius:5px;color:#fff;font-size:larger;padding:10px 0}"]}),o})();function z(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"div",12)(2,"h4"),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()(),e.TgZ(6,"div",13)(7,"button",14),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.editHighnews(s._id))}),e._uU(8,"Edit"),e.qZA(),e.TgZ(9,"button",15),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteHighnews(s._id))}),e._uU(10,"Delete"),e.qZA()()()}if(2&o){const t=i.$implicit;e.xp6(3),e.Oqu(t.highnewshead),e.xp6(2),e.Oqu(t.highnewsdesc)}}const V=[{path:"dashboard",component:T,children:[{path:"newsslider",component:A},{path:"editnews/:id",component:b},{path:"onlyslider",component:b},{path:"category",component:k},{path:"news",component:I},{path:"news/:id",component:C},{path:"onlynews",component:C},{path:"highnews",component:(()=>{class o{constructor(t,n,a,s){this.apiService=t,this.formBuilder=n,this.route=a,this.http=s,this.edit=!1,this.baseurl="http://localhost:3000"}ngOnInit(){this._getHighnews(),this.highnewsForm=this.formBuilder.group({highnewshead:["",r.kI.required],highnewsdesc:["",r.kI.required],color:[""]})}editHighnews(t){this.highnewsId=t,this.http.get(`${this.baseurl}/api/highnews/${this.highnewsId}`).subscribe(n=>{this.highnewsForm.setValue({highnewshead:n.highnewshead,highnewsdesc:n.highnewsdesc,color:n.color}),this.edit=!0})}postCat(){console.log("add pressed"),this.apiService.postHighnews(this.highnewsForm.value).subscribe(t=>{console.log(t),this.highnewsForm.reset(),this._getHighnews()})}onSubmit(){this.highnewsForm.invalid||(this.edit?this.http.put(`${this.baseurl}/api/highnews/${this.highnewsId}`,this.highnewsForm.value).subscribe(()=>{this._getHighnews(),this.highnewsForm.reset()}):this.postCat())}_getHighnews(){this.apiService.getHighnews().subscribe(t=>{this.highs=t})}deleteHighnews(t){this.apiService.deleteHighnews(t).subscribe(n=>{this._getHighnews()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.N),e.Y36(r.qu),e.Y36(c.gz),e.Y36(w.eN))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-highnews"]],decls:17,vars:2,consts:[[1,"cat-main"],[2,"padding","10px 30px","background-color","white"],[1,"highnews-edit",2,"margin-bottom","1rem"],[3,"formGroup","ngSubmit"],["id","thh",1,"form-group"],["for","name"],["type","text","id","name","formControlName","highnewshead",1,"form-control"],["type","text","id","name","formControlName","highnewsdesc",1,"form-control"],["type","color","formControlName","color",1,"form-control"],["type","submit",1,"btn","btn-primary"],["class","highnews",4,"ngFor","ngForOf"],[1,"highnews"],[1,"highnews-name"],[1,"highnews-buttons"],[1,"edit-button",3,"click"],[1,"delete-button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"All Categories listed below"),e.qZA(),e.TgZ(4,"div",2)(5,"h3"),e._uU(6,"ADD / Edit Highnews"),e.qZA(),e.TgZ(7,"form",3),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",4)(9,"label",5),e._uU(10,"Highnews Name: "),e.qZA(),e._UZ(11,"input",6)(12,"input",7)(13,"input",8),e.TgZ(14,"button",9),e._uU(15,"Save"),e.qZA()()()(),e.YNc(16,z,11,2,"div",10),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("formGroup",n.highnewsForm),e.xp6(9),e.Q6J("ngForOf",n.highs))},dependencies:[p.sg,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),o})()}]}];let E=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(V),c.Bz]}),o})();var Q=d(9731),B=d(1312);let G=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[m.YP],imports:[p.ez,E,Q.F,r.u5,r.UX,u.D,B.S]}),o})()}}]);